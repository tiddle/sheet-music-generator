(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(33)},17:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(11),s=n.n(u),i=n(2),c=n(3),o=n(5),l=n(4),f=n(6),b=n(1),h=(n(17),n(7)),m=n.n(h),d=function e(t,n,r){var a=t||0,u=n||0,s=Math.floor(Math.random()*(u-a+1))+t;return-1!==(r||[]).indexOf(s)&&(s=e(t,n,r)),s},p=(n(18),[{name:"A"},{name:"A#",flat:"Bb"},{name:"B"},{name:"C"},{name:"C#",flat:"Db"},{name:"D"},{name:"D#",flat:"Eb"},{name:"E"},{name:"F"},{name:"F#",flat:"Gb"},{name:"G"},{name:"G#",flat:"Ab"}]),v=function(e){return function(e){var t=p.reduce(function(t,n){return n.name.toUpperCase()===e.toUpperCase()&&(t.found=!0),t.found?t.before.push(n):t.after.push(n),t},{before:[],after:[],found:!1});return t.before.concat(t.after)}(e).reduce(function(e,t,n){return-1!==[0,2,4,5,7,9,11,12].indexOf(n)&&e.push(t),e},[])},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.reduce(function(e,t){var n,r;return e.push((n=t.duration,r=t.changeInterval,n.reduce(function(e,t,n){var a=r[0];return r.length,t.isRest||(t.note=a[d(0,a.length-1)]),e.push(t),e},[]))),e},[]);return j(r,t,n)},A=function(e,t){var n=e.reduce(function(e,n){return n<=t&&e.push(n),e},[]);return 0===n.length&&(n=[.25]),n[d(0,n.length-1)]},k=function(e){for(var t=[.25,.5,1,1.5,2,3,4],n=[];e>0;){var r={},a=A(t,e);r.duration=a,r.isRest=0===d(0,4),1!==a||r.isRest||(r.isTriplet=0===d(0,1)),n.push(r),e-=a}return n},M=function(e,t,n,r){var a=r.map(function(e,t){return function(e,t){var n=[1,3,5,7];return e.reduce(function(e,t,r){return-1!==n.indexOf(r+1)&&e.push(t),e},[])}(function(e,t){var n=e.map(function(e){return e}),r=n.splice(0,t);return n.concat(r)}(n,e-1))}),u=function(e,t){for(var n=[];t>0;)t--,n.push(k(e));return n=O(n)}(e,t),s=function(e,t){var n=t.length%e;e/t.length===1&&(e*=2);for(var r=[],a=0;a<e;a++){var u=[];n>0&&0===a&&0===d(0,1)&&(u.push(t.pop()),n=0),n>0&&a===e-1&&u.push(t.pop()),u.push(t.pop()),r.push(u)}return r}(t,a);return u.reduce(function(e,t,n){return e.push({duration:t,changeInterval:s[n]}),e},[])},O=function(e){return e.reduce(function(e,t){return e.length>0&&e[e.length-1].isRest&&t.isRest?(e[e.length-1].duration+=t.duration,e):(e.push(t),e)},[])},y=function(e){var t="",n=d(0,1)?"/4 ":"/5 ";return t+=C(e.duration),e.isRest?t+=" ## ":t+=" ".concat(e.note.name," ").concat(n),t},C=function(e){var t="";switch(e){case.25:t=":16";break;case.5:t=":8";break;case.75:t=":8d";break;case 1:t=":4";break;case 1.5:t=":4d";break;case 2:t=":2";break;case 3:t=":2d";break;case 4:t=":1"}return t},j=function(e,t,n){var r=e.reduce(function(e,t){return e+=t.reduce(function(e,t){return e+=y(t)},"")+" | "},""),a="\n notes ";return t&&(a="\n notes =|: "),n&&(r=r.slice(0,-3)+" =:| "),console.log(r),a+r},E=function(){var e={},t=[[1,6,2,5],[1,2,5,1],[1,4,5,1],[1,6,4,5],[1,4,6,5],[1,5,6,4]],n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?t[e]:t[d(0,t.length-1)]};return{createMusicAttr:function(t){var r=Object.assign({},{key:!1,timeSignature:!1,progression:!1},t),a=function(e){var t=e||["C","Am","F","Dm","Bb","Gm","Eb","Cm","Ab","Fm","Db","Bbm","Gb","Ebm","Cb","Abm","G","Em","D","Bm","A","F#m","E","C#m","B","G#m","F#","D#m","C#","A#m"];return t[d(0,t.length-1)]}(r.key);return(e={scale:{keyName:a,notes:v(a)},timeSignature:(r.timeSignature,"4/4"),progression:n(r.progression),clef:"treble"}).mainPhrase=M(4,4,e.scale.notes,e.progression),e.bridgePhrase=M(4,4,e.scale.notes,e.progression),e.endingPhrase=M(4,4,e.scale.notes,e.progression),e},createSong:function(e,t){return function(e){var t="options player=true \n";return t+="tabstave notation=true tablature=false",t+=" key="+e.scale.keyName,t+=" clef="+e.clef,t+=" time="+e.timeSignature+"\n",t+=g(e.mainPhrase,!0),t+="\n\ntext :h, Music generated by Sheet Music Generator created by Carlo Cruz ",t+="\ntabstave notation=true tablature=false clef=none",t+=g(e.mainPhrase,!1,!0),t+="\ntabstave notation=true tablature=false clef=none",t+=g(e.bridgePhrase),t+="\ntabstave notation=true tablature=false clef=none",t+=g(e.bridgePhrase),t+="\ntabstave notation=true tablature=false clef=none",t+=g(e.endingPhrase),t+="\ntabstave notation=true tablature=false clef=none",t+=g(e.endingPhrase)}(e)}}},G=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).MusicGenerator=E(),n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.MusicGenerator.createMusicAttr();this.props.setMusicAttributes(e),this.sheetMusic=this.MusicGenerator.createSong(e);var t=m.a.VexTab,n=m.a.Artist;n.NOLOGO=!0;var r=m.a.Flow.Renderer,a=new r(document.getElementById("music"),r.Backends.CANVAS),u=new n(10,10,1024,{scale:1});return new t(u).parse(this.sheetMusic),u.render(a)}},{key:"render",value:function(){return null}}]),t}(a.a.Component),w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={musicAttr:{scale:{keyName:""}}},n.setMusicAttributes=n.setMusicAttributes.bind(Object(b.a)(Object(b.a)(n))),n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"setMusicAttributes",value:function(e){this.setState({musicAttr:e})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Sheet Music Generator"),a.a.createElement("p",null,"A randomly created song in the key of"," ",this.state.musicAttr.scale.keyName,"."," ","."),a.a.createElement(G,{setMusicAttributes:this.setMusicAttributes}))}}]),t}(a.a.Component);n(32);s.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.7931dce1.chunk.js.map